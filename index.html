<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>REBA評価システム</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <h1>REBA評価システム</h1>
  
  <!-- 補正入力項目 -->
  <div id="calibration" style="margin:20px; padding:10px; border:1px solid #ccc;">
    <h3>REBA 補正設定</h3>
    
    <!-- 撮影側 -->
    <div>
      <p>撮影側 (Filming Side)<br>
         <small>どちら側から撮影しているかを選択してください</small>
      </p>
      <label><input type="radio" name="filmingSide" value="left" checked> Left (左側)</label>
      <label><input type="radio" name="filmingSide" value="right"> Right (右側)</label>
    </div>
    
    <!-- 頸部 -->
    <div>
      <p>頸部回旋 (Neck Rotation)<br>
         <small>例: 0°＝中立、10°＝軽い回旋、20°＝強い回旋</small>
      </p>
      <label><input type="radio" name="neckRotation" value="0" checked> 0°</label>
      <label><input type="radio" name="neckRotation" value="10"> 10°</label>
      <label><input type="radio" name="neckRotation" value="20"> 20°</label>
    </div>
    <div>
      <p>頸部側屈 (Neck Lateral Bending)<br>
         <small>例: 0°＝中立、10°＝軽い側屈、20°＝強い側屈</small>
      </p>
      <label><input type="radio" name="neckLateralBending" value="0" checked> 0°</label>
      <label><input type="radio" name="neckLateralBending" value="10"> 10°</label>
      <label><input type="radio" name="neckLateralBending" value="20"> 20°</label>
    </div>
    
    <!-- 体幹 -->
    <div>
      <p>体幹側屈 (Trunk Lateral Flexion)<br>
         <small>例: 0°＝中立、5°＝軽い側屈、10°＝強い側屈</small>
      </p>
      <label><input type="radio" name="trunkLateralFlexion" value="0" checked> 0°</label>
      <label><input type="radio" name="trunkLateralFlexion" value="5"> 5°</label>
      <label><input type="radio" name="trunkLateralFlexion" value="10"> 10°</label>
    </div>
    
    <!-- 荷重/力 -->
    <div>
      <p>荷重/力 (Load/Force)<br>
         <small>例: 5kg未満＝0, 5～10kg＝1, 10kg超＝2</small>
      </p>
      <label><input type="radio" name="loadForce" value="5" checked> 5kg</label>
      <label><input type="radio" name="loadForce" value="10"> 10kg</label>
      <label><input type="radio" name="loadForce" value="15"> 15kg</label>
    </div>
    
    <!-- 作業姿勢（統合：体重支持状態＋作業姿勢） -->
    <div>
      <p>作業姿勢 (Posture Category)<br>
         <small>例: Standing (両足支持)=安定、Standing (片足支持)=不安定、Sitting/Walking＝座位/歩行（膝角度は1固定）</small>
      </p>
      <label>
        <input type="radio" name="postureCategory" value="standingBoth" checked>
        Standing (両足支持)
      </label>
      <label>
        <input type="radio" name="postureCategory" value="standingOne">
        Standing (片足支持)
      </label>
      <label>
        <input type="radio" name="postureCategory" value="sittingWalking">
        Sitting/Walking
      </label>
    </div>
    
    <!-- 上肢補正 -->
    <div>
      <p>上腕の外転/回旋 (Upper Arm Abduction/Rotation)<br>
         <small>例: なし＝0, あり＝1</small>
      </p>
      <label><input type="radio" name="upperArmCorrection" value="0" checked> なし</label>
      <label><input type="radio" name="upperArmCorrection" value="1"> あり</label>
    </div>
    <div>
      <p>肩の挙上 (Shoulder Elevation)<br>
         <small>例: なし＝0, あり＝1</small>
      </p>
      <label><input type="radio" name="shoulderElevation" value="0" checked> なし</label>
      <label><input type="radio" name="shoulderElevation" value="1"> あり</label>
    </div>
    <div>
      <p>重力補助 (Gravity Assistance)<br>
         <small>例: なし＝0, あり＝-1（減点）</small>
      </p>
      <label><input type="radio" name="gravityAssist" value="0" checked> なし</label>
      <label><input type="radio" name="gravityAssist" value="-1"> あり</label>
    </div>
    
    <!-- 手首補正 -->
    <div>
      <p>手首の橈屈/尺屈 (Wrist Radial/Ulnar Deviation)<br>
         <small>例: なし＝0, あり＝1</small>
      </p>
      <label><input type="radio" name="wristCorrection" value="0" checked> なし</label>
      <label><input type="radio" name="wristCorrection" value="1"> あり</label>
    </div>
    
    <!-- 活動度（各項目別） -->
    <div>
      <p>静的姿勢 (Static Posture)<br>
         <small>例: なし＝0, あり＝1</small>
      </p>
      <label><input type="radio" name="staticPosture" value="0" checked> なし</label>
      <label><input type="radio" name="staticPosture" value="1"> あり</label>
    </div>
    <div>
      <p>小さい反復動作 (Repetitive Movement)<br>
         <small>例: なし＝0, あり＝1</small>
      </p>
      <label><input type="radio" name="repetitiveMovement" value="0" checked> なし</label>
      <label><input type="radio" name="repetitiveMovement" value="1"> あり</label>
    </div>
    <div>
      <p>速く広い動作/不安定 (Unstable/Fast Movement)<br>
         <small>例: なし＝0, あり＝1</small>
      </p>
      <label><input type="radio" name="unstableMovement" value="0" checked> なし</label>
      <label><input type="radio" name="unstableMovement" value="1"> あり</label>
    </div>
    
    <!-- Coupling 補正 -->
 <div>
  <p>持ちやすさスコア (Grip Ease Score):</p>
  <label>
    <input type="radio" name="gripScore" value="0" checked>
    0点 (良好) – 例: よくフィットしていて、しっかり握れる状態
  </label>
  <br>
  <label>
    <input type="radio" name="gripScore" value="1">
    1点 (普通) – 例: 許容範囲内だが、理想的とは言えず体の他部位を補助すれば握れる状態
  </label>
  <br>
  <label>
    <input type="radio" name="gripScore" value="2">
    2点 (不良) – 例: 握れるが、明らかに持ちにくい状態
  </label>
  <br>
  <label>
    <input type="radio" name="gripScore" value="3">
    3点 (許容不可) – 例: 不自然な握り、またはほとんど握れず体の他部位を使わなければ持てない状態
  </label>
</div>
  
  <!-- Webカメラ映像 -->
  <div id="liveView" style="margin-top:20px;">
    <button id="webcamButton">Recording Start</button>
    <video id="webcam" autoplay playsinline style="width: 1280px; height: 720px;"></video>
    <canvas id="output_canvas" width="1280" height="720" style="position: absolute; left: 0; top: 0;"></canvas>
  </div>
  
  <script type="module" src="./script.js"></script>
</body>
</html>